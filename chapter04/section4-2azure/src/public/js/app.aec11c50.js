(function(t){function e(e){for(var i,o,s=e[0],u=e[1],c=e[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),r=n.n(i);r.a},"1fae":function(t,e,n){},4336:function(t,e,n){"use strict";var i=n("1fae"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("MyClient",{attrs:{windowLocationHref:t.locationHrefStr}})],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isSignUp?t._e():n("div",{attrs:{id:"id_section_signup"}},[t._v("\r\n        【サインアップ】"),n("br"),n("br"),t._v("\r\n        利用者名を入れてください（※3文字以上、16文字以内の英数字）。：\r\n        "),t.isUserNameValid?n("font-awesome-icon",{staticStyle:{color:"#4444ff"},attrs:{icon:"check"}}):t._e(),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.userNameInput,expression:"userNameInput"}],attrs:{id:"id_username"},domProps:{value:t.userNameInput},on:{input:function(e){e.target.composing||(t.userNameInput=e.target.value)}}}),n("br"),n("div",[n("input",{directives:[{name:"show",rawName:"v-show",value:t.isUserNameValid,expression:"isUserNameValid"}],attrs:{value:"登録",type:"button"},on:{click:t.createAccount}})]),n("br")],1),t.isSignUp?n("div",{attrs:{id:"id_section_main"}},[n("div",[n("div",{staticClass:"cls_toggle_expand_collapse",attrs:{id:"id_setup_panel"},on:{click:t.toggleCtrlPanel}},[t._v("\r\n                "+t._s(t.setuppanel_text)+"\r\n            ")]),n("transition",{attrs:{name:"trans_slide"}},[t.isPanelShow?n("div",{staticClass:"menu_slide_accordion",attrs:{id:"id_setup_transslide"}},[t._v("\r\n                    ここにオプションのパネルを追加。\r\n                ")]):t._e()]),n("br")],1),n("div",{attrs:{id:"id_input_area"}},[n("div",{attrs:{id:"id_input_textarea"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.input_message,expression:"input_message"}],attrs:{placeholder:"ここに入力する。複数行可。"},domProps:{value:t.input_message},on:{input:function(e){e.target.composing||(t.input_message=e.target.value)}}})]),n("div",{attrs:{id:"id_input_command"}},[n("div",{attrs:{id:"id_input_additional"}},[t._v("リストに追加する")]),n("div",{attrs:{id:"id_input_button"},on:{click:t.clickInputButton}},[t._m(0)])])]),n("div",{attrs:{id:"id_todolist"}},[n("ul",t._l(t.todo_list,(function(e,i){return n("li",{key:i},[n("div",{staticClass:"item_text",on:{click:function(e){return t.clickItem(i)}}},[n("span",{style:e.styleStr},[t._v(t._s(e.text))])]),n("div",{staticClass:"item_date"},[t._v(t._s(e.dateStr))]),n("div",{on:{click:function(e){return t.clickDeleteButton(i)}}},[t._m(1,!0)])])})),0)])]):t._e()])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-pen fa-2x"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"#"}},[n("i",{staticClass:"fas fa-trash-alt"})])}],u=n("bc3a"),c=n.n(u),l=(n("6b54"),n("ac6a"),function(t,e,n){var i=new Date;n&&i.setTime(n),this.text=t,this.id=e,this.create=i.getTime().toString(),this.dateStr=i.toString(),this.styleStr=""});l.prototype.toggleTextStyle=function(t){this.styleStr=0==this.styleStr.length?t:""};var d=function(t,e,n){return new l(t,e,n)},p="/api/v1/users/",f=function(t,e){this.userName=e,this.axiosClient=t,this.targetUrl=p+this.userName+"/items",this.original=[]};f.prototype.fetch=function(){return this.axiosClient.get(this.targetUrl,{}).then((function(t){var e=t.data,n=e.items,i=[];return n.forEach((function(t){i.push(d(t.text,t.id,t.create))})),Promise.resolve(i)}))},f.prototype.add=function(t){var e=this,n=new Date,i=n.getTime().toString();return this.axiosClient.post(this.targetUrl,{text:t,create:i,update:i}).then((function(n){var r=n.data,a=r.items,o=a[0],s=o.id,u=d(t,s,i);return e.original.push(u),Promise.resolve(u)}))},f.prototype.remove=function(t){var e=this;return this.axiosClient.delete(this.targetUrl+"/"+t).then((function(n){var i=n.status;return 200==i?(e.original=e.original.filter((function(e){var n=e.id;return n!=t})),Promise.resolve()):Promise.reject()}))};n("3b2b"),n("a481"),n("5df3"),n("1c4c");var h={create:function(t){var e=t,n=("00"+e.length).slice(-2),i="abcdefghijklmnopqrstuvwxyz0123456789",r=30-e.length,a=Array.from(Array(r)).map((function(){return i[Math.floor(Math.random()*i.length)]})).join(""),o=n+e+a;return o},extractName:function(t){var e=t.substring(0,2),n=parseInt(e),i=t.substring(2,2+n);return i},getTargetUserFromUrlSearch:function(t,e){e||(e=window.location.href),t=t.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=n.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},m="user",g={name:"MyClient",props:{windowLocationHref:{type:String,required:!1}},data:function(){return{setuppanel_text:"オプションはこちら",isPanelShow:!1,userNameInput:"",itemStorage:null,targetKey:"",input_message:"",todo_list:[]}},computed:{isUserNameValid:function(){var t=this.userNameInput;return t&&t.length>2&&t.length<=16},isSignUp:function(){return this.targetKey.length>0},justUserName:function(){return this.isSignUp?h.extractName(this.targetKey):"未登録"}},created:function(){var t=this,e=h.getTargetUserFromUrlSearch(m,this.windowLocationHref);e&&(this.itemStorage=new f(c.a,e),this.targetKey=e,this.setuppanel_text="オプション（＠"+this.justUserName+"さん）",this.itemStorage.fetch().then((function(e){t.todo_list=e})))},mounted:function(){},watch:{todo_list:{handler:function(){},deep:!0}},methods:{toggleCtrlPanel:function(){this.isPanelShow=!this.isPanelShow},createAccount:function(){this.targetKey=h.create(this.userNameInput),window.location.href="./index.html?"+m+"="+this.targetKey},clickInputButton:function(){var t=this,e=this.input_message;e.length>0&&(this.itemStorage.add(e).then((function(e){t.todo_list.push(e)})),this.input_message="")},clickItem:function(t){this.todo_list[t].toggleTextStyle("text-decoration: line-through;")},clickDeleteButton:function(t){var e=this,n=this.todo_list[t].id;this.itemStorage.remove(n).then((function(){e.todo_list.splice(t,1)}))}}},v=g,_=(n("4336"),n("2877")),y=Object(_["a"])(v,o,s,!1,null,"cc0f5162",null),w=y.exports,b={name:"app",data:function(){return{locationHrefStr:window.location.href}},components:{MyClient:w}},x=b,S=(n("034f"),Object(_["a"])(x,r,a,!1,null,null,null)),N=S.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(N)}}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.aec11c50.js.map